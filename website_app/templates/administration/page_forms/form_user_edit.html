<form class="" id="formUserEdit" action="{{url_for('administration.useredit', action=useredit_form.action.data, id=useredit_form.id.data)}}" method="post" role="form" autocomplete="on" validate>
    <fieldset>
        {{ useredit_form.hidden_tag() }}
        <div class="modal-header align-items-center border-0 mb-0 pb-0">
            <h1 class="modal-title mx-auto" >User</h1>
            <button type="button button-info" class="float-right close splash_form_close_button" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        </div>
        <div class="d-flex">
            <div class="administration-page-line flex-grow-1 align-self-center"></div>
            {% if useredit_form.action.data.lower()=='delete' %}
            <div class="pl-1 pr-1 bg-danger text-white">{{useredit_form.action.data}}</div>
            {% elif useredit_form.action.data.lower()=='add' %}
            <div class="pl-1 pr-1 bg-info">{{useredit_form.action.data}}</div>
            {% else %}
            <div class="pl-1 pr-1 bg-warning">{{useredit_form.action.data}}</div>
            {% endif %}
        </div>

        <div class="modal-body">
            <div class="d-flex flex-column">
                <div class="p-0">
                    {% include [language_fullpathfile('messages_display_errors_exceptfielderrors.html',CURRENT_LANGUAGE,'COMPONENT'), fullpathfile('messages_display_errors_exceptfielderrors.html','COMPONENT',active_module)] %}
                    <div class="p-0 left">
                        <!--===================================================-->

                        <div class="form-group d-flex flex-column">
                            <div class="d-flex flex-row">
                                <div>
                                    {{ useredit_form.email.label }}
                                </div>
                                <div>
                                    <span style="color:red">{% if useredit_form.email.flags.required %}*{% endif %}</span>
                                </div>
                            </div>
                            {{ useredit_form.email(size=60, class="form-control input-style") }}
                            {% for error in useredit_form.email.errors %}
                            <span class="text-error-note" style="color: red;">[{{ error }}]</span>
                            {% endfor %}
                        </div>

                        <div class="form-group d-flex flex-column">
                            <div class="d-flex flex-row">
                                <div>
                                    {{useredit_form.firstName.label }}
                                </div>
                                <div>
                                    <span style="color:red">{% if useredit_form.firstName.flags.required %}*{% endif %}</span>
                                </div>
                            </div>
                            {{ useredit_form.firstName(size=32, class="form-control input-style") }}
                            {% for error in useredit_form.firstName.errors %}
                            <span class="text-error-note" style="color: red;">[{{ error }}]</span>
                            {% endfor %}
                        </div>

                        <div class="form-group d-flex flex-column">
                            <div class="d-flex flex-row">
                                <div>
                                    {{ useredit_form.lastName.label }}
                                </div>
                                <div>
                                    <span style="color:red">{% if useredit_form.lastName.flags.required %}*{% endif %}</span>
                                </div>
                            </div>
                            {{ useredit_form.lastName(size=32, class="form-control input-style") }}
                            {% for error in useredit_form.lastName.errors %}
                            <span class="text-error-note" style="color: red;">[{{ error }}]</span>
                            {% endfor %}
                        </div>

                        <div class="form-group d-flex flex-column">
                            {{ useredit_form.userName.label }}
                            {{ useredit_form.userName(size=60, class="form-control input-style") }}
                            {% for error in useredit_form.userName.errors %}
                            <span class="text-note" style="color: red;">[{{ error }}]</span>
                            {% endfor %}
                        </div>

                        <div class="form-group d-flex flex-column">
                            {{ useredit_form.mobile.label }}
                            {{ useredit_form.mobile(size=32, class="form-control input-style") }}
                            {% for error in useredit_form.mobile.errors %}
                            <span class="text-note" style="color: red;">[{{ error }}]</span>
                            {% endfor %}
                        </div>

                        <div class="form-group d-flex flex-column">
                            {{ useredit_form.company.label }}<span style="color:red">{% if useredit_form.company.flags.required %}*{% endif %}</span>
                            {{ useredit_form.company(size=60, class="form-control input-style") }}
                            {% for error in useredit_form.company.errors %}
                            <span class="text-error-note" style="color: red;">[{{ error }}]</span>
                            {% endfor %}
                        </div>

                        <div class="form-group d-flex flex-column">
                            {{ useredit_form.jobTitle.label }}<span style="color:red">{% if useredit_form.jobTitle.flags.required %}*{% endif %}</span>
                            {{ useredit_form.jobTitle(size=60, class="form-control input-style") }}
                            {% for error in useredit_form.jobTitle.errors %}
                            <span class="text-error-note" style="color: red;">[{{ error }}]</span>
                            {% endfor %}
                        </div>

                        <div class="form-group d-flex flex-column">
                            {{ useredit_form.department.label }}<span style="color:red">{% if useredit_form.department.flags.required %}*{% endif %}</span>
                            {{ useredit_form.department(size=1, class="form-control input-style") }}
                            {% for error in useredit_form.department.errors %}
                            <span class="text-error-note" style="color: red;">[{{ error }}]</span>
                            {% endfor %}
                        </div>
                        <div class="form-group d-flex flex-column">
                                {{ useredit_form.roles.label }}<span style="color:red">{% if useredit_form.roles.flags.required %}*{% endif %}</span>
                                {{ useredit_form.roles(size=2, multiple=True, class="form-control input-style") }}
                                {% for error in useredit_form.roles.errors %}
                                <span class="text-error-note" style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                        </div>
                        <!--===================================================-->
                    </div>
                </div>
            </div>
        </div>

        <div class="administration-page-line"></div>

        <div class="modal-footer d-flex justify-content-start">
            <div class="justify-content-center align-items-center mt-0 mb-0 p-0">
                <!--
                            {{url_for('administration.useredit', action=useredit_form.action.data, id=useredit_form.id.data)}}
                        -->
            </div>
            <div class="d-flex flex-grow-1 justify-content-end mt-0 mb-0 p-0">
                <div class="mr-2">
                    <button name="submit" type="submit" value="Cancel" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
                <div>
                    {% if useredit_form.action.data.lower() in ['delete'] %}
                    {{useredit_form.submit(class="btn btn-danger text-white",value='Delete')}}
                    {% elif useredit_form.action.data.lower() in ['add'] %}
                    {{useredit_form.submit(class="btn btn-info",value='Add')}}
                    {% else %}
                    {{useredit_form.submit(class="btn btn-warning",value="Update")}}
                    {% endif %}
                </div>
            </div>
        </div>
    </fieldset>
</form>